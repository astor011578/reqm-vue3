import{_ as e,a as s,c as a,d as o,e as l,D as r,v as n,O as c,n as t,r as i,g as u,w as d,b as p,t as m,s as f,l as v,h as w,P as g,Q as y,j as _,p as h,k,H as I,E as C,R as P,S as q}from"./index-e507caa2.js";const x=e({},[["render",function(e,r){const n=s("font-awesome-icon");return a(),o("div",null,[l(n,{icon:"fa-solid fa-user"})])}],["__file","C:/Program Files/Workspace/reqm-vue3/src/icons/common/user.vue"]]);const V=e({},[["render",function(e,r){const n=s("font-awesome-icon");return a(),o("div",null,[l(n,{icon:"fa-solid fa-lock"})])}],["__file","C:/Program Files/Workspace/reqm-vue3/src/icons/common/lock.vue"]]);const b=e({},[["render",function(e,r){const n=s("font-awesome-icon");return a(),o("div",null,[l(n,{icon:"fa-solid fa-eye"})])}],["__file","C:/Program Files/Workspace/reqm-vue3/src/icons/common/eye.vue"]]);const F=e({},[["render",function(e,r){const n=s("font-awesome-icon");return a(),o("div",null,[l(n,{icon:"fa-solid fa-eye-slash"})])}],["__file","C:/Program Files/Workspace/reqm-vue3/src/icons/common/eyeSlash.vue"]]),S=e=>(h("data-v-37dfd6fc"),e=e(),k(),e),W={class:"login-container columnCC"},j=S((()=>u("div",{class:"login-bg"},null,-1))),D={class:"login-pane"},Q=S((()=>u("div",{class:"login-logo"},null,-1))),U={class:"login-title-container"},K={class:"title text-center"},L={class:"rowSC"},O={class:"rowSC flex-1"},R={class:"tip-message"},z=e({__name:"index",setup(e){const h=r(),k=n();let S=c({userId:"999999",password:"999999"}),z=c({otherQuery:{},redirect:void 0});t((()=>h.query),(e=>{e&&(z.redirect=e.redirect,z.otherQuery=(e=>Object.keys(e).reduce(((s,a)=>("redirect"!==a&&(s[a]=e[a]),s)),{}))(e))}),{immediate:!0});const E=i(!1),H=i(""),A=async()=>{const{userId:e,password:s}=S,a=!!e.trim().length,o=!!s.trim().length;switch(!0){case!a:return H.value="Please input user ID";case!o:return H.value="Please input password";default:await B()}},B=async()=>{E.value=!0,localStorage.setItem("userId",S.userId);const e=I();await e.login(S).then((()=>{C.success(v("Login successfully")),k.push({path:z.redirect||"/",query:z.otherQuery})})).catch((e=>{P(30).then((()=>{H.value="User ID or password is incorrect",E.value=!1}))}))},G=()=>H.value&&""!==H.value.trim()?H.value="":null,J=i("password"),M=i(null),N=()=>{J.value="password"===J.value?"":"password",q((()=>M.value.focus()))};return(e,r)=>{const n=s("el-input"),c=s("el-form-item"),t=s("el-button"),i=s("el-row"),h=s("el-form");return a(),o("div",W,[j,u("div",D,[Q,l(h,{class:"login-form",model:p(S)},{default:d((()=>[u("div",U,[u("h3",K,m(p(f).title),1)]),l(c,{prop:"userId"},{default:d((()=>[u("div",L,[l(p(x),{class:"icon-container"}),l(n,{class:"test",modelValue:p(S).userId,"onUpdate:modelValue":r[0]||(r[0]=e=>p(S).userId=e),placeholder:p(v)("User ID"),onKeyup:G},null,8,["modelValue","placeholder"])])])),_:1}),l(c,{prop:"password"},{default:d((()=>[u("div",O,[l(p(V),{class:"icon-container"}),(a(),w(n,{key:p(J),ref_key:"pwdRef",ref:M,modelValue:p(S).password,"onUpdate:modelValue":r[1]||(r[1]=e=>p(S).password=e),type:p(J),placeholder:p(v)("Password"),onKeyup:[G,g(A,["enter"])]},null,8,["modelValue","type","placeholder","onKeyup"])),u("span",{class:"show-pwd",onClick:N},[(a(),w(y("password"===p(J)?p(F):p(b))))])])])),_:1}),u("div",R,m(p(v)(p(H))),1),l(i,{class:"row-bg",justify:"center"},{default:d((()=>[l(t,{loading:p(E),type:"primary",size:"default",onClick:A},{default:d((()=>[_(m(p(v)("Login")),1)])),_:1},8,["loading"])])),_:1})])),_:1},8,["model"])])])}}},[["__scopeId","data-v-37dfd6fc"],["__file","C:/Program Files/Workspace/reqm-vue3/src/views/login/index.vue"]]);export{z as default};
